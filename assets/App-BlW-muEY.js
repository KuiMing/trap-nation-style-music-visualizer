import{r as Me,j as r}from"./index-uXUNq2UN.js";var i=Me(),P=(a=>(a.PyroBurst="Pyro Burst",a.GlacialShards="Glacial Shards",a.QuantumEntanglement="Quantum Entanglement",a.CelestialBloom="Celestial Bloom",a))(P||{}),R=(a=>(a.Static="Static",a.Gravity="Gravity",a.AntiGravity="Anti-Gravity",a.RadialOut="Radial Out",a.VortexIn="Vortex In",a))(R||{}),N=(a=>(a.Static="Static",a.SlowPan="Slow Pan",a.GentleZoom="Gentle Zoom",a.AudioPulse="Audio Pulse",a))(N||{}),F=(a=>(a.Static="Static",a.Pulse="Pulse",a.Shake="Shake",a.Float="Float",a))(F||{}),X=(a=>(a.SixteenNine="16:9",a.NineSixteen="9:16",a))(X||{}),G=(a=>(a.MP4="video/mp4",a.WebM="video/webm",a))(G||{});const fe=[{name:"Pyro Burst",dynamicStyle:P.PyroBurst,motionIntensity:2.5,cameraShakeIntensity:2,barCount:150,barWidth:3,glowRadius:30,starSpikes:5,starInnerRadius:.5,spectrumColor1:"#FFA500",spectrumColor2:"#FF4500",bgColor1:"#000000",bgColor2:"#1a0000",particleColor:"#FFD700",logoSize:1,highEnergyFx:!0,smoothingTimeConstant:.7,frequencyRangeStart:0,frequencyRangeEnd:1,particleBehavior:R.Gravity,backgroundBehavior:N.AudioPulse,logoBehavior:F.Pulse},{name:"Glacial Shards",dynamicStyle:P.GlacialShards,motionIntensity:1.6,cameraShakeIntensity:1,barCount:128,barWidth:2,glowRadius:22,starSpikes:8,starInnerRadius:.4,spectrumColor1:"#00FFFF",spectrumColor2:"#ADD8E6",bgColor1:"#000015",bgColor2:"#050520",particleColor:"#FFFFFF",logoSize:1,highEnergyFx:!0,smoothingTimeConstant:.8,frequencyRangeStart:0,frequencyRangeEnd:1,particleBehavior:R.Static,backgroundBehavior:N.GentleZoom,logoBehavior:F.Pulse},{name:"Quantum Entanglement",dynamicStyle:P.QuantumEntanglement,motionIntensity:2,cameraShakeIntensity:1.2,barCount:1,barWidth:1,glowRadius:10,starSpikes:5,starInnerRadius:.5,spectrumColor1:"#39FF14",spectrumColor2:"#00FFFF",bgColor1:"#000008",bgColor2:"#000500",particleColor:"#FFFFFF",logoSize:1,highEnergyFx:!1,smoothingTimeConstant:.6,frequencyRangeStart:0,frequencyRangeEnd:1,particleBehavior:R.Static,backgroundBehavior:N.Static,logoBehavior:F.Pulse},{name:"Celestial Bloom",dynamicStyle:P.CelestialBloom,motionIntensity:1.5,cameraShakeIntensity:.2,barCount:180,barWidth:2,glowRadius:35,starSpikes:10,starInnerRadius:.3,spectrumColor1:"#FFD700",spectrumColor2:"#8A2BE2",bgColor1:"#020024",bgColor2:"#090979",particleColor:"#F0E68C",logoSize:1,highEnergyFx:!1,smoothingTimeConstant:.85,frequencyRangeStart:0,frequencyRangeEnd:1,particleBehavior:R.RadialOut,backgroundBehavior:N.GentleZoom,logoBehavior:F.Float}],Ne=fe[0],M=({label:a,value:c,min:j,max:B,step:A,onChange:V,displayFormatter:U})=>r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:a}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"range",min:j,max:B,step:A,value:c,onChange:q=>V(parseFloat(q.target.value)),className:"w-full h-2 bg-brand-border rounded-lg appearance-none cursor-pointer accent-brand-primary"}),r.jsx("input",{type:"number",min:j,max:B,step:A,value:c,onChange:q=>V(parseFloat(q.target.value)),className:"w-20 bg-brand-bg border border-brand-border rounded-md px-2 py-1 text-center","aria-label":a})]})]}),Y=({label:a,value:c,onChange:j})=>r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:a}),r.jsx("div",{className:"relative w-10 h-10 rounded-md border-2 border-brand-border cursor-pointer overflow-hidden",style:{backgroundColor:c},children:r.jsx("input",{type:"color",value:c,onChange:B=>j(B.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})})]}),Fe=({label:a,checked:c,onChange:j})=>r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:a}),r.jsx("button",{onClick:()=>j(!c),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${c?"bg-brand-primary":"bg-brand-border"}`,children:r.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]}),Pe=()=>{const[a,c]=i.useState(Ne),[j,B]=i.useState(null),[A,V]=i.useState(null),[U,q]=i.useState(null),[L,ae]=i.useState(null),[J,xe]=i.useState(X.NineSixteen),[le,ie]=i.useState(G.MP4),[H,ce]=i.useState(!1),[de,re]=i.useState(0),[Ie,ue]=i.useState(!1),z=i.useRef(null),O=i.useRef(null),Z=i.useRef(null),W=i.useRef(null),ne=i.useRef(null),_=i.useRef(null),ye=i.useRef(null),se=i.useRef(null),Q=i.useRef(null),K=i.useRef([]),ee=i.useRef(1),oe=i.useRef(0),me=i.useRef(null),pe=i.useRef(0);i.useEffect(()=>{_.current&&(_.current.smoothingTimeConstant=a.smoothingTimeConstant)},[a.smoothingTimeConstant]);const ve=e=>{if(j&&URL.revokeObjectURL(j),e.target.files&&e.target.files[0]){const t=e.target.files[0];V(t);const s=URL.createObjectURL(t);B(s)}else V(null),B(null)},Ce=e=>{if(U&&URL.revokeObjectURL(U),e.target.files&&e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);q(t);const s=new Image;s.src=t,s.onload=()=>{Z.current=s}}else q(null),Z.current=null},je=e=>{if(L&&URL.revokeObjectURL(L),e.target.files&&e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);ae(t);const s=new Image;s.src=t,s.onload=()=>{W.current=s}}else ae(null),W.current=null},Se=()=>{L&&URL.revokeObjectURL(L),ae(null),W.current=null},Re=()=>{if(O.current&&!ne.current){const e=window.AudioContext||window.webkitAudioContext,t=new e;ne.current=t;const s=t.createAnalyser();s.fftSize=2048,s.smoothingTimeConstant=a.smoothingTimeConstant,_.current=s;const d=t.createMediaElementSource(O.current);ye.current=d;const l=t.createMediaStreamDestination();se.current=l,d.connect(s),s.connect(t.destination),s.connect(l)}};i.useEffect(()=>{const e=O.current;if(!e)return;const t=()=>{var d;Re(),(d=ne.current)==null||d.resume(),ue(!0)},s=()=>ue(!1);return e.addEventListener("play",t),e.addEventListener("pause",s),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",s)}},[j]);const be=i.useCallback((e,t,s,d,l)=>{const u=()=>{K.current=[];for(let n=0;n<100;n++)K.current.push({x:Math.random()*t,y:Math.random()*s,radius:Math.random()*2+1,vx_base:Math.random()*1-.5,vy_base:Math.random()*1-.5,angle:Math.random()*Math.PI*2,distance:Math.random()*Math.min(t,s)*.5})};(K.current.length===0||me.current!==d.particleBehavior)&&(u(),me.current=d.particleBehavior),e.fillStyle=d.particleColor;const b=t/2,f=s/2;K.current.forEach(n=>{switch(d.particleBehavior){case R.Gravity:n.y+=n.vy_base+1,n.x+=n.vx_base,n.y>s&&(n.y=0,n.x=Math.random()*t);break;case R.AntiGravity:n.y-=n.vy_base+1,n.x+=n.vx_base,n.y<0&&(n.y=s,n.x=Math.random()*t);break;case R.RadialOut:const x=l/255*2;n.distance+=x+.1,n.x=b+Math.cos(n.angle)*n.distance,n.y=f+Math.sin(n.angle)*n.distance,(n.x<0||n.x>t||n.y<0||n.y>s)&&(n.distance=Math.random()*50,n.angle=Math.random()*Math.PI*2);break;case R.VortexIn:const y=l/255*1.5;n.distance-=y+.1,n.angle+=.01,n.x=b+Math.cos(n.angle)*n.distance,n.y=f+Math.sin(n.angle)*n.distance,n.distance<1&&(n.distance=Math.random()*Math.min(t,s)*.5,n.angle=Math.random()*Math.PI*2);break;case R.Static:default:n.x+=n.vx_base,n.y+=n.vy_base,(n.x<0||n.x>t)&&(n.vx_base*=-1),(n.y<0||n.y>s)&&(n.vy_base*=-1);break}e.beginPath(),e.arc(n.x,n.y,n.radius,0,Math.PI*2),e.fill()})},[]),ge=i.useCallback((e,t,s,d,l,u)=>{e.save();const b=d,f=b.reduce((g,E)=>g+E,0)/(b.length||1);let n,x,y,w,T,h;const I=g=>b[g]||0;switch(a.dynamicStyle){case P.PyroBurst:{const g=e.createLinearGradient(0,-s/4,0,s/4);g.addColorStop(0,a.spectrumColor1),g.addColorStop(1,a.spectrumColor2),e.strokeStyle=g,e.lineWidth=a.barWidth;const o=Math.min(t,s)*.05+f*.1*a.motionIntensity;e.lineCap="round";for(let m=0;m<a.barCount;m++)h=I(m)/255*s*.15*a.motionIntensity,n=m/a.barCount*Math.PI*2,x=Math.cos(n)*o,y=Math.sin(n)*o,w=Math.cos(n)*(o+h),T=Math.sin(n)*(o+h),e.beginPath(),e.moveTo(x,y),e.lineTo(w,T),e.stroke();break}case P.GlacialShards:{const g=e.createLinearGradient(0,-s/4,0,s/4);g.addColorStop(0,a.spectrumColor1),g.addColorStop(1,a.spectrumColor2),e.strokeStyle=g;const E=a.starSpikes,o=Math.min(t,s)*.18,m=o*a.starInnerRadius;e.beginPath();for(let v=0;v<=a.barCount;v++){const p=v%a.barCount;h=I(p)/255*s*.1*a.motionIntensity,n=p/a.barCount*Math.PI*2;const S=n/(Math.PI*2)*E%1,k=m+(o-m)*Math.abs(S-.5)*2+h;x=Math.cos(n)*k,y=Math.sin(n)*k,v===0?e.moveTo(x,y):e.lineTo(x,y)}e.closePath(),e.stroke();break}case P.CelestialBloom:{const g=e.createLinearGradient(0,-s/4,0,s/4);g.addColorStop(0,a.spectrumColor1),g.addColorStop(1,a.spectrumColor2),e.strokeStyle=g;const E=Math.min(t,s)*.05,o=1+Math.sin(l*2)*.2;e.beginPath();for(let m=0;m<=a.barCount;m++){const v=m%a.barCount;h=I(v)/255*s*.12*a.motionIntensity*o,n=v/a.barCount*Math.PI*2;const p=E+h;x=Math.cos(n)*p,y=Math.sin(n)*p;const S=Math.cos(n)*(p-h*.5),C=Math.sin(n)*(p-h*.5);m===0?e.moveTo(x,y):e.quadraticCurveTo(S,C,x,y)}e.closePath(),e.stroke();break}}e.restore()},[a]),te=i.useCallback(()=>{if(!z.current||!_.current){Q.current=requestAnimationFrame(te);return}const e=z.current,t=e.getContext("2d");if(!t)return;const s=_.current.frequencyBinCount,d=new Uint8Array(s);_.current.getByteFrequencyData(d);const{width:l,height:u}=e,b=d.reduce((o,m)=>o+m,0)/s,f=d.slice(0,16).reduce((o,m)=>o+m,0)/16,n=b>1,x=Math.floor(s*a.frequencyRangeStart),y=Math.floor(s*a.frequencyRangeEnd),w=d.slice(x,y);pe.current=f,oe.current+=.002;const T=n?1+b/255*.07:1;ee.current+=(T-ee.current)*.1,t.clearRect(0,0,l,u),t.save(),t.translate(l/2,u/2),t.scale(ee.current,ee.current);const I=n?f/255*a.cameraShakeIntensity*15:0,g=(Math.random()-.5)*I,E=(Math.random()-.5)*I;if(t.translate(g,E),t.translate(-l/2,-u/2),W.current&&W.current.complete){const o=W.current,m=l/u,v=o.width/o.height;let p,S,C,k;v>m?(k=o.height,C=o.height*m,p=(o.width-C)/2,S=0):(C=o.width,k=o.width/m,p=0,S=(o.height-k)/2),t.save();const D=oe.current;switch(a.backgroundBehavior){case N.SlowPan:t.translate(Math.sin(D)*50,Math.cos(D)*30);break;case N.GentleZoom:const $=1+Math.sin(D*.8)*.1;t.translate(l/2,u/2),t.scale($,$),t.translate(-l/2,-u/2);break;case N.AudioPulse:const he=1+b/255*.05;t.translate(l/2,u/2),t.scale(he,he),t.translate(-l/2,-u/2);break}t.drawImage(o,p,S,C,k,0,0,l,u),t.restore()}else{const o=t.createLinearGradient(0,0,0,u);o.addColorStop(0,a.bgColor1),o.addColorStop(1,a.bgColor2),t.fillStyle=o,t.fillRect(0,0,l,u)}if(be(t,l,u,a,b),Z.current&&Z.current.complete){const o=Z.current,v=Math.min(l,u)*.3*a.logoSize,p=o.width/o.height;let S,C;p>1?(S=v,C=v/p):(C=v,S=v*p),t.save(),t.translate(l/2,u/2);const k=1+b/255*.1,D=f/255*15,$=oe.current;switch(a.logoBehavior){case F.Pulse:t.scale(k,k);break;case F.Shake:t.translate((Math.random()-.5)*D,(Math.random()-.5)*D);break;case F.Float:t.translate(Math.sin($*.5)*10,Math.cos($*.3)*10);break}n&&(t.save(),t.shadowColor=a.spectrumColor1,t.shadowBlur=a.glowRadius*(b/255),t.translate(0,C*.3),ge(t,l,u,w,$,f),t.restore()),t.globalAlpha=.9,t.shadowColor="#FFFFFF",t.shadowBlur=b/255*30,t.drawImage(o,-S/2,-C/2,S,C),t.restore()}if(t.restore(),a.highEnergyFx&&n&&f>220){const o=Math.min(.7,(f-220)/35*1.5);t.fillStyle=`rgba(255, 255, 255, ${o})`,t.fillRect(0,0,l,u)}Q.current=requestAnimationFrame(te)},[a,be,ge]);i.useEffect(()=>(Q.current=requestAnimationFrame(te),()=>{Q.current&&cancelAnimationFrame(Q.current)}),[te]),i.useEffect(()=>{const e=z.current;if(!e)return;const t=window.devicePixelRatio||1;let s,d;const l=e.parentElement;if(l)J===X.SixteenNine?(s=l.clientWidth,d=l.clientWidth*9/16):(d=l.clientHeight,s=l.clientHeight*9/16);else{const b=e.getBoundingClientRect();s=b.width,d=b.height}e.width=s*t,e.height=d*t,e.style.width=`${s}px`,e.style.height=`${d}px`;const u=e.getContext("2d");u==null||u.scale(t,t)},[J]);const ke=async()=>{if(!z.current||!O.current||!A||!se.current)return;if(typeof MediaRecorder>"u"){alert("Your browser does not support video recording.");return}let e=le;if(!MediaRecorder.isTypeSupported(e)&&(console.warn(`${e} not supported, falling back to video/webm`),e=G.WebM,ie(G.WebM),!MediaRecorder.isTypeSupported(e))){alert("Neither MP4 nor WebM recording is supported in your browser.");return}ce(!0),re(0);const t=z.current,s=O.current,d=!s.paused;d&&s.pause(),s.currentTime=0;const l=t.captureStream(30),u=se.current.stream,b=new MediaStream([...l.getVideoTracks(),...u.getAudioTracks()]),f=new MediaRecorder(b,{mimeType:e}),n=[];f.ondataavailable=w=>{w.data.size>0&&n.push(w.data)},f.onstop=()=>{const w=new Blob(n,{type:e}),T=URL.createObjectURL(w),h=document.createElement("a");document.body.appendChild(h),h.style.display="none",h.href=T;const I=e===G.MP4?"mp4":"webm";h.download=`visualizer-video.${I}`,h.click(),window.URL.revokeObjectURL(T),h.remove(),ce(!1),re(0),b.getTracks().forEach(g=>g.stop()),d&&s.play()};const x=()=>{s.duration>0&&re(s.currentTime/s.duration*100)},y=()=>{f.stop(),s.removeEventListener("timeupdate",x),s.removeEventListener("ended",y)};s.addEventListener("timeupdate",x),s.addEventListener("ended",y),f.start(),s.play()},we=e=>{c(e)};return r.jsxs("div",{className:"flex h-screen bg-brand-bg text-gray-200 font-sans",children:[r.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-4 lg:p-8",children:r.jsxs("div",{className:"w-full max-w-5xl flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:`bg-black border-8 border-gray-800 rounded-[40px] shadow-2xl p-2 ${J===X.SixteenNine?"w-full aspect-[16/9]":"w-auto h-[80vh] aspect-[9/16]"}`,children:r.jsxs("div",{className:"w-full h-full bg-brand-bg rounded-[32px] overflow-hidden relative",children:[H&&r.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-50 rounded-[32px]",children:[r.jsx("div",{className:"text-2xl font-bold mb-4 text-white",children:"Generating Video..."}),r.jsx("div",{className:"w-3/4 bg-brand-border rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"bg-brand-primary h-4 rounded-full transition-all duration-150",style:{width:`${de}%`}})}),r.jsxs("div",{className:"mt-2 text-lg text-white",children:[Math.round(de),"%"]})]}),r.jsx("canvas",{ref:z,className:"w-full h-full"})]})}),j&&r.jsx("audio",{ref:O,src:j,controls:!0,className:"w-full max-w-md"})]})}),r.jsxs("aside",{className:"w-[380px] bg-brand-surface flex-shrink-0 flex flex-col h-screen border-l border-brand-border",children:[r.jsx("div",{className:"p-6 border-b border-brand-border",children:r.jsx("h1",{className:"text-xl font-bold",children:"Visualizer Studio"})}),r.jsxs("fieldset",{disabled:H,className:"flex-grow overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-brand-border",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-brand-primary",children:"Assets"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Audio File*"}),r.jsx("input",{type:"file",accept:"audio/*",onChange:ve,className:"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-brand-primary/10 file:text-brand-primary hover:file:bg-brand-primary/20"}),A&&r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:A.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Logo Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Ce,className:"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-brand-primary/10 file:text-brand-primary hover:file:bg-brand-primary/20"}),U&&r.jsx("img",{src:U,className:"w-16 h-16 object-contain mt-2 rounded-md bg-black/20 p-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Background Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:je,className:"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-brand-primary/10 file:text-brand-primary hover:file:bg-brand-primary/20"}),L&&r.jsxs("div",{className:"relative w-24 h-14 object-contain mt-2 rounded-md bg-black/20 p-1 group",children:[r.jsx("img",{src:L,className:"w-full h-full object-contain"}),r.jsx("button",{onClick:Se,className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove background image",children:"Ã—"})]})]})]})]}),r.jsxs("div",{className:"p-6 border-b border-brand-border",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-brand-primary",children:"Visual Style"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:fe.map(e=>r.jsx("button",{onClick:()=>we(e),className:`p-2 rounded-md text-center text-xs border-2 transition-colors h-12 flex items-center justify-center ${a.name===e.name?"bg-brand-primary/20 border-brand-primary font-semibold":"bg-brand-bg border-brand-border hover:border-gray-600"}`,title:e.name,children:r.jsx("span",{className:"truncate",children:e.name})},e.name))})]}),r.jsxs("div",{className:"p-6 border-b border-brand-border",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-brand-primary",children:"Customize"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Particle Behavior"}),r.jsx("select",{value:a.particleBehavior,onChange:e=>c(t=>({...t,name:"Custom",particleBehavior:e.target.value})),className:"w-full bg-brand-bg border border-brand-border rounded-md px-2 py-2 text-sm",children:Object.values(R).map(e=>r.jsx("option",{value:e,children:e},e))})]}),L&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Background Behavior"}),r.jsx("select",{value:a.backgroundBehavior,onChange:e=>c(t=>({...t,name:"Custom",backgroundBehavior:e.target.value})),className:"w-full bg-brand-bg border border-brand-border rounded-md px-2 py-2 text-sm",children:Object.values(N).map(e=>r.jsx("option",{value:e,children:e},e))})]}),U&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Logo Behavior"}),r.jsx("select",{value:a.logoBehavior,onChange:e=>c(t=>({...t,name:"Custom",logoBehavior:e.target.value})),className:"w-full bg-brand-bg border border-brand-border rounded-md px-2 py-2 text-sm",children:Object.values(F).map(e=>r.jsx("option",{value:e,children:e},e))})]}),r.jsx(M,{label:"Motion Intensity",value:a.motionIntensity,min:.5,max:4,step:.1,onChange:e=>c(t=>({...t,name:"Custom",motionIntensity:e}))}),r.jsx(M,{label:"Camera Shake",value:a.cameraShakeIntensity,min:0,max:5,step:.1,onChange:e=>c(t=>({...t,name:"Custom",cameraShakeIntensity:e}))}),r.jsx(M,{label:"Smoothing",value:a.smoothingTimeConstant,min:0,max:.99,step:.01,onChange:e=>c(t=>({...t,name:"Custom",smoothingTimeConstant:e}))}),r.jsx(M,{label:"Bar Count",value:a.barCount,min:16,max:512,step:4,onChange:e=>c(t=>({...t,name:"Custom",barCount:e}))}),r.jsx(M,{label:"Frequency Range Start",value:a.frequencyRangeStart,min:0,max:1,step:.01,onChange:e=>c(t=>({...t,name:"Custom",frequencyRangeStart:e}))}),r.jsx(M,{label:"Frequency Range End",value:a.frequencyRangeEnd,min:0,max:1,step:.01,onChange:e=>c(t=>({...t,name:"Custom",frequencyRangeEnd:e}))}),r.jsx(M,{label:"Bar Width",value:a.barWidth,min:1,max:10,step:1,onChange:e=>c(t=>({...t,name:"Custom",barWidth:e}))}),r.jsx(M,{label:"Glow Radius",value:a.glowRadius,min:0,max:50,step:1,onChange:e=>c(t=>({...t,name:"Custom",glowRadius:e}))}),r.jsx(M,{label:"Logo Size",value:a.logoSize,min:.1,max:2,step:.05,onChange:e=>c(t=>({...t,name:"Custom",logoSize:e}))}),r.jsx(Y,{label:"Spectrum 1",value:a.spectrumColor1,onChange:e=>c(t=>({...t,name:"Custom",spectrumColor1:e}))}),r.jsx(Y,{label:"Spectrum 2",value:a.spectrumColor2,onChange:e=>c(t=>({...t,name:"Custom",spectrumColor2:e}))}),r.jsx(Y,{label:"Background 1",value:a.bgColor1,onChange:e=>c(t=>({...t,name:"Custom",bgColor1:e}))}),r.jsx(Y,{label:"Background 2",value:a.bgColor2,onChange:e=>c(t=>({...t,name:"Custom",bgColor2:e}))}),r.jsx(Y,{label:"Particle Color",value:a.particleColor,onChange:e=>c(t=>({...t,name:"Custom",particleColor:e}))}),r.jsx(Fe,{label:"High-Energy FX",checked:a.highEnergyFx,onChange:e=>c(t=>({...t,name:"Custom",highEnergyFx:e}))})]})]})]}),r.jsxs("div",{className:"p-6 mt-auto border-t border-brand-border bg-brand-surface",children:[r.jsxs("fieldset",{disabled:H,children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-brand-primary",children:"Export"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Aspect Ratio"}),r.jsx("select",{value:J,onChange:e=>xe(e.target.value),className:"w-full bg-brand-bg border border-brand-border rounded-md px-2 py-2 text-sm",children:Object.values(X).map(e=>r.jsx("option",{value:e,children:e},e))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Format"}),r.jsxs("select",{value:le,onChange:e=>ie(e.target.value),className:"w-full bg-brand-bg border border-brand-border rounded-md px-2 py-2 text-sm",children:[r.jsx("option",{value:G.MP4,children:"MP4"}),r.jsx("option",{value:G.WebM,children:"WEBM"})]})]})]})]}),r.jsx("button",{onClick:ke,disabled:H||!A,className:"w-full mt-6 py-3 px-4 bg-brand-primary text-black font-bold rounded-lg text-lg transition-all hover:bg-opacity-80 disabled:bg-brand-border disabled:text-gray-500 disabled:cursor-not-allowed",children:H?"Generating...":"Generate Video"})]})]})]})};export{Pe as default};
